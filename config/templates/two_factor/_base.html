{% extends 'base_generic.html' %}

{% block content %}
  {% load crispy_forms_tags %}

  {% if user.is_authenticated %}
    <p>You are already logged in.</p>
    <p>
      Want to <a href="{% url 'logout' %}">logout</a> instead?
    </p>
  {% else %}
    {% if form.errors %}
      <p>Your username and password didn't match. Please try again.</p>
    {% endif %}

    <div class="container mt-5">
      <h1>Login</h1>
      <form method="POST">
        {% csrf_token %}
        {{ form|crispy }}
        <button type="submit" class="btn btn-primary">Login</button>
      </form>
      <p>
        Don't have an account? <a href="{% url 'register' %}">Register</a>
      </p>
    </div>
  {% endif %}
{% endblock %}
